{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/grids/grid_core/m_modules.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport messageLocalization from \"../../../common/core/localization/message\";\nimport $ from \"../../../core/renderer\";\nimport Callbacks from \"../../../core/utils/callbacks\";\nimport { grep } from \"../../../core/utils/common\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { isFunction } from \"../../../core/utils/type\";\nimport { hasWindow } from \"../../../core/utils/window\";\nimport errors from \"../../../ui/widget/ui.errors\";\nimport { updateViewsBorders } from \"./views/utils/update_views_borders\";\nconst WIDGET_WITH_LEGACY_CONTAINER_NAME = \"dxDataGrid\";\nexport class ModuleItem {\n  constructor(component) {\n    const that = this;\n    that._updateLockCount = 0;\n    that.component = component;\n    that._actions = {};\n    that._actionConfigs = {};\n    each(this.callbackNames() || [], function (index, name) {\n      const flags = that.callbackFlags(name) || {};\n      flags.unique = true;\n      flags.syncStrategy = true;\n      that[this] = Callbacks(flags);\n    });\n  }\n  _endUpdateCore() {}\n  init() {}\n  callbackNames() {\n    return;\n  }\n  callbackFlags(name) {}\n  publicMethods() {\n    return [];\n  }\n  beginUpdate() {\n    this._updateLockCount++;\n  }\n  endUpdate() {\n    if (this._updateLockCount > 0) {\n      this._updateLockCount--;\n      if (!this._updateLockCount) {\n        this._endUpdateCore();\n      }\n    }\n  }\n  option(name) {\n    const {\n      component: component\n    } = this;\n    const optionCache = component._optionCache;\n    if (1 === arguments.length && optionCache) {\n      if (!(name in optionCache)) {\n        optionCache[name] = component.option(name);\n      }\n      return optionCache[name];\n    }\n    return component.option.apply(component, arguments);\n  }\n  _silentOption(name, value) {\n    const {\n      component: component\n    } = this;\n    const optionCache = component._optionCache;\n    if (optionCache) {\n      optionCache[name] = value;\n    }\n    return component._setOptionWithoutOptionChange(name, value);\n  }\n  localize(name) {\n    const optionCache = this.component._optionCache;\n    if (optionCache) {\n      if (!(name in optionCache)) {\n        optionCache[name] = messageLocalization.format(name);\n      }\n      return optionCache[name];\n    }\n    return messageLocalization.format(name);\n  }\n  on(event, callback) {\n    return this.component.on.apply(this.component, arguments);\n  }\n  off() {\n    return this.component.off.apply(this.component, arguments);\n  }\n  optionChanged(args) {\n    if (args.name in this._actions) {\n      this.createAction(args.name, this._actionConfigs[args.name]);\n      args.handled = true;\n    }\n  }\n  getAction(actionName) {\n    return this._actions[actionName];\n  }\n  setAria(name, value, $target) {\n    const target = $target.get(0);\n    const prefix = \"role\" !== name && \"id\" !== name ? \"aria-\" : \"\";\n    if (target.setAttribute) {\n      target.setAttribute(prefix + name, value);\n    } else {\n      $target.attr(prefix + name, value);\n    }\n  }\n  _createComponent($container, component, options) {\n    return this.component._createComponent($container, component, options);\n  }\n  getController(name) {\n    return this.component._controllers[name];\n  }\n  createAction(actionName, config) {\n    if (isFunction(actionName)) {\n      const action = this.component._createAction(actionName.bind(this), config);\n      return function (e) {\n        action({\n          event: e\n        });\n      };\n    }\n    this._actions[actionName] = this.component._createActionByOption(actionName, config);\n    this._actionConfigs[actionName] = config;\n    return;\n  }\n  executeAction(actionName, options) {\n    const action = this._actions[actionName];\n    return action && action(options);\n  }\n  dispose() {\n    const that = this;\n    each(that.callbackNames() || [], function () {\n      that[this].empty();\n    });\n  }\n  addWidgetPrefix(className) {\n    const componentName = this.component.NAME;\n    return `dx-${componentName.slice(2).toLowerCase()}${className ? `-${className}` : \"\"}`;\n  }\n  getWidgetContainerClass() {\n    const containerName = \"dxDataGrid\" === this.component.NAME ? null : \"container\";\n    return this.addWidgetPrefix(containerName);\n  }\n  elementIsInsideGrid($element) {\n    const $gridElement = $element.closest(`.${this.getWidgetContainerClass()}`).parent();\n    return $gridElement.is(this.component.$element());\n  }\n}\nexport class Controller extends ModuleItem {}\nexport class ViewController extends Controller {\n  getView(name) {\n    return this.component._views[name];\n  }\n  getViews() {\n    return this.component._views;\n  }\n}\nexport class View extends ModuleItem {\n  constructor(component) {\n    super(component);\n    this.renderCompleted = Callbacks();\n    this.resizeCompleted = Callbacks();\n  }\n  _isReady() {\n    return this.component.isReady();\n  }\n  _endUpdateCore() {\n    super._endUpdateCore();\n    if (!this._isReady() && this._requireReady) {\n      this._requireRender = false;\n      this.component._requireResize = false;\n    }\n    if (this._requireRender) {\n      this._requireRender = false;\n      this.render(this._$parent);\n    }\n  }\n  _invalidate(requireResize, requireReady) {\n    this._requireRender = true;\n    this.component._requireResize = hasWindow() && (this.component._requireResize || requireResize);\n    this._requireReady = this._requireReady || requireReady;\n  }\n  _renderCore(options) {}\n  _resizeCore() {}\n  _parentElement() {\n    return this._$parent;\n  }\n  element() {\n    return this._$element;\n  }\n  getElementHeight() {\n    const $element = this.element();\n    if (!$element) {\n      return 0;\n    }\n    const marginTop = parseFloat($element.css(\"marginTop\")) || 0;\n    const marginBottom = parseFloat($element.css(\"marginBottom\")) || 0;\n    const {\n      offsetHeight: offsetHeight\n    } = $element.get(0);\n    return offsetHeight + marginTop + marginBottom;\n  }\n  isVisible() {\n    return true;\n  }\n  getTemplate(name) {\n    return this.component._getTemplate(name);\n  }\n  getView(name) {\n    return this.component._views[name];\n  }\n  _getBorderedViews() {\n    return {\n      columnHeadersView: this.component._views.columnHeadersView,\n      rowsView: this.component._views.rowsView,\n      filterPanelView: this.component._views.filterPanelView,\n      footerView: this.component._views.footerView\n    };\n  }\n  render($parent, options) {\n    let $element = this._$element;\n    const isVisible = this.isVisible();\n    if (!$element && !$parent) {\n      return;\n    }\n    this._requireReady = false;\n    if (!$element) {\n      $element = this._$element = $(\"<div>\").appendTo($parent);\n      this._$parent = $parent;\n    }\n    $element.toggleClass(\"dx-hidden\", !isVisible);\n    if (this.component._views) {\n      updateViewsBorders(this.name, this._getBorderedViews());\n    }\n    if (isVisible) {\n      this.component._optionCache = {};\n      const deferred = this._renderCore(options);\n      this.component._optionCache = void 0;\n      if (deferred) {\n        deferred.done(() => {\n          this.renderCompleted.fire(options);\n        });\n      } else {\n        this.renderCompleted.fire(options);\n      }\n    }\n  }\n  resize() {\n    this.isResizing = true;\n    this._resizeCore();\n    this.resizeCompleted.fire();\n    this.isResizing = false;\n  }\n  focus(preventScroll) {\n    this.element().get(0).focus({\n      preventScroll: preventScroll\n    });\n  }\n}\nconst MODULES_ORDER_MAX_INDEX = 1e6;\nfunction getExtendedTypes(types) {\n  let moduleExtenders = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n  const extendTypes = {};\n  Object.entries(moduleExtenders).forEach(_ref => {\n    let [name, extender] = _ref;\n    const currentType = types[name];\n    if (currentType) {\n      if (isFunction(extender)) {\n        extendTypes[name] = extender(currentType);\n      } else {\n        const classType = currentType;\n        extendTypes[name] = classType.inherit(extender);\n      }\n    }\n  });\n  return extendTypes;\n}\nfunction registerPublicMethods(componentInstance, name, moduleItem) {\n  const publicMethods = moduleItem.publicMethods();\n  if (publicMethods) {\n    each(publicMethods, (_, methodName) => {\n      if (moduleItem[methodName]) {\n        if (!componentInstance[methodName]) {\n          componentInstance[methodName] = function () {\n            return moduleItem[methodName](...arguments);\n          };\n        } else {\n          throw errors.Error(\"E1005\", methodName);\n        }\n      } else {\n        throw errors.Error(\"E1006\", name, methodName);\n      }\n    });\n  }\n}\nexport function processModules(componentInstance, componentClass) {\n  const {\n    modules: modules\n  } = componentClass;\n  const {\n    modulesOrder: modulesOrder\n  } = componentClass;\n  function createModuleItems(moduleTypes) {\n    const moduleItems = {};\n    each(moduleTypes, (name, moduleType) => {\n      const moduleItem = new moduleType(componentInstance);\n      moduleItem.name = name;\n      registerPublicMethods(componentInstance, name, moduleItem);\n      moduleItems[name] = moduleItem;\n    });\n    return moduleItems;\n  }\n  if (modulesOrder) {\n    modules.sort((module1, module2) => {\n      let orderIndex1 = modulesOrder.indexOf(module1.name);\n      let orderIndex2 = modulesOrder.indexOf(module2.name);\n      if (orderIndex1 < 0) {\n        orderIndex1 = 1e6;\n      }\n      if (orderIndex2 < 0) {\n        orderIndex2 = 1e6;\n      }\n      return orderIndex1 - orderIndex2;\n    });\n  }\n  const rootControllerTypes = {};\n  const rootViewTypes = {};\n  modules.forEach(_ref2 => {\n    let {\n      name: moduleName,\n      controllers = {},\n      views = {}\n    } = _ref2;\n    Object.entries(controllers).forEach(_ref3 => {\n      let [name, type] = _ref3;\n      if (rootControllerTypes[name]) {\n        throw errors.Error(\"E1001\", moduleName, name);\n      } else if (!((null === type || void 0 === type ? void 0 : type.prototype) instanceof Controller)) {\n        throw errors.Error(\"E1002\", moduleName, name);\n      }\n      rootControllerTypes[name] = type;\n    });\n    Object.entries(views).forEach(_ref4 => {\n      let [name, type] = _ref4;\n      if (rootViewTypes[name]) {\n        throw errors.Error(\"E1003\", moduleName, name);\n      } else if (!((null === type || void 0 === type ? void 0 : type.prototype) instanceof View)) {\n        throw errors.Error(\"E1004\", moduleName, name);\n      }\n      rootViewTypes[name] = type;\n    });\n  });\n  const moduleExtenders = modules.filter(_ref5 => {\n    let {\n      extenders: extenders\n    } = _ref5;\n    return !!extenders;\n  });\n  const controllerTypes = moduleExtenders.reduce((types, _ref6) => {\n    let {\n      extenders: extenders\n    } = _ref6;\n    return _extends({}, types, getExtendedTypes(types, null === extenders || void 0 === extenders ? void 0 : extenders.controllers));\n  }, rootControllerTypes);\n  const viewTypes = moduleExtenders.reduce((types, _ref7) => {\n    let {\n      extenders: extenders\n    } = _ref7;\n    return _extends({}, types, getExtendedTypes(types, null === extenders || void 0 === extenders ? void 0 : extenders.views));\n  }, rootViewTypes);\n  componentInstance._controllers = createModuleItems(controllerTypes);\n  componentInstance._views = createModuleItems(viewTypes);\n}\nconst callModuleItemsMethod = function (that, methodName, args) {\n  args = args || [];\n  if (that._controllers) {\n    each(that._controllers, function () {\n      this[methodName] && this[methodName].apply(this, args);\n    });\n  }\n  if (that._views) {\n    each(that._views, function () {\n      this[methodName] && this[methodName].apply(this, args);\n    });\n  }\n};\nexport default {\n  modules: [],\n  View: View,\n  ViewController: ViewController,\n  Controller: Controller,\n  registerModule(name, module) {\n    const {\n      modules: modules\n    } = this;\n    for (let i = 0; i < modules.length; i++) {\n      if (modules[i].name === name) {\n        return;\n      }\n    }\n    module.name = name;\n    modules.push(module);\n  },\n  registerModulesOrder(moduleNames) {\n    this.modulesOrder = moduleNames;\n  },\n  unregisterModule(name) {\n    this.modules = grep(this.modules, module => module.name !== name);\n  },\n  processModules: processModules,\n  callModuleItemsMethod: callModuleItemsMethod\n};","map":{"version":3,"names":["_extends","messageLocalization","$","Callbacks","grep","each","isFunction","hasWindow","errors","updateViewsBorders","WIDGET_WITH_LEGACY_CONTAINER_NAME","ModuleItem","constructor","component","that","_updateLockCount","_actions","_actionConfigs","callbackNames","index","name","flags","callbackFlags","unique","syncStrategy","_endUpdateCore","init","publicMethods","beginUpdate","endUpdate","option","optionCache","_optionCache","arguments","length","apply","_silentOption","value","_setOptionWithoutOptionChange","localize","format","on","event","callback","off","optionChanged","args","createAction","handled","getAction","actionName","setAria","$target","target","get","prefix","setAttribute","attr","_createComponent","$container","options","getController","_controllers","config","action","_createAction","bind","e","_createActionByOption","executeAction","dispose","empty","addWidgetPrefix","className","componentName","NAME","slice","toLowerCase","getWidgetContainerClass","containerName","elementIsInsideGrid","$element","$gridElement","closest","parent","is","Controller","ViewController","getView","_views","getViews","View","renderCompleted","resizeCompleted","_isReady","isReady","_requireReady","_requireRender","_requireResize","render","_$parent","_invalidate","requireResize","requireReady","_renderCore","_resizeCore","_parentElement","element","_$element","getElementHeight","marginTop","parseFloat","css","marginBottom","offsetHeight","isVisible","getTemplate","_getTemplate","_getBorderedViews","columnHeadersView","rowsView","filterPanelView","footerView","$parent","appendTo","toggleClass","deferred","done","fire","resize","isResizing","focus","preventScroll","MODULES_ORDER_MAX_INDEX","getExtendedTypes","types","moduleExtenders","extendTypes","Object","entries","forEach","_ref","extender","currentType","classType","inherit","registerPublicMethods","componentInstance","moduleItem","_","methodName","Error","processModules","componentClass","modules","modulesOrder","createModuleItems","moduleTypes","moduleItems","moduleType","sort","module1","module2","orderIndex1","indexOf","orderIndex2","rootControllerTypes","rootViewTypes","_ref2","moduleName","controllers","views","_ref3","type","prototype","_ref4","filter","_ref5","extenders","controllerTypes","reduce","_ref6","viewTypes","_ref7","callModuleItemsMethod","registerModule","module","i","push","registerModulesOrder","moduleNames","unregisterModule"],"sources":["C:/Users/Sofia/Desktop/Репозиторий ЦК/internship_project/client/node_modules/devextreme/esm/__internal/grids/grid_core/m_modules.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/grids/grid_core/m_modules.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport messageLocalization from \"../../../common/core/localization/message\";\r\nimport $ from \"../../../core/renderer\";\r\nimport Callbacks from \"../../../core/utils/callbacks\";\r\nimport {\r\n    grep\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    isFunction\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    hasWindow\r\n} from \"../../../core/utils/window\";\r\nimport errors from \"../../../ui/widget/ui.errors\";\r\nimport {\r\n    updateViewsBorders\r\n} from \"./views/utils/update_views_borders\";\r\nconst WIDGET_WITH_LEGACY_CONTAINER_NAME = \"dxDataGrid\";\r\nexport class ModuleItem {\r\n    constructor(component) {\r\n        const that = this;\r\n        that._updateLockCount = 0;\r\n        that.component = component;\r\n        that._actions = {};\r\n        that._actionConfigs = {};\r\n        each(this.callbackNames() || [], (function(index, name) {\r\n            const flags = that.callbackFlags(name) || {};\r\n            flags.unique = true;\r\n            flags.syncStrategy = true;\r\n            that[this] = Callbacks(flags)\r\n        }))\r\n    }\r\n    _endUpdateCore() {}\r\n    init() {}\r\n    callbackNames() {\r\n        return\r\n    }\r\n    callbackFlags(name) {}\r\n    publicMethods() {\r\n        return []\r\n    }\r\n    beginUpdate() {\r\n        this._updateLockCount++\r\n    }\r\n    endUpdate() {\r\n        if (this._updateLockCount > 0) {\r\n            this._updateLockCount--;\r\n            if (!this._updateLockCount) {\r\n                this._endUpdateCore()\r\n            }\r\n        }\r\n    }\r\n    option(name) {\r\n        const {\r\n            component: component\r\n        } = this;\r\n        const optionCache = component._optionCache;\r\n        if (1 === arguments.length && optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = component.option(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return component.option.apply(component, arguments)\r\n    }\r\n    _silentOption(name, value) {\r\n        const {\r\n            component: component\r\n        } = this;\r\n        const optionCache = component._optionCache;\r\n        if (optionCache) {\r\n            optionCache[name] = value\r\n        }\r\n        return component._setOptionWithoutOptionChange(name, value)\r\n    }\r\n    localize(name) {\r\n        const optionCache = this.component._optionCache;\r\n        if (optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = messageLocalization.format(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return messageLocalization.format(name)\r\n    }\r\n    on(event, callback) {\r\n        return this.component.on.apply(this.component, arguments)\r\n    }\r\n    off() {\r\n        return this.component.off.apply(this.component, arguments)\r\n    }\r\n    optionChanged(args) {\r\n        if (args.name in this._actions) {\r\n            this.createAction(args.name, this._actionConfigs[args.name]);\r\n            args.handled = true\r\n        }\r\n    }\r\n    getAction(actionName) {\r\n        return this._actions[actionName]\r\n    }\r\n    setAria(name, value, $target) {\r\n        const target = $target.get(0);\r\n        const prefix = \"role\" !== name && \"id\" !== name ? \"aria-\" : \"\";\r\n        if (target.setAttribute) {\r\n            target.setAttribute(prefix + name, value)\r\n        } else {\r\n            $target.attr(prefix + name, value)\r\n        }\r\n    }\r\n    _createComponent($container, component, options) {\r\n        return this.component._createComponent($container, component, options)\r\n    }\r\n    getController(name) {\r\n        return this.component._controllers[name]\r\n    }\r\n    createAction(actionName, config) {\r\n        if (isFunction(actionName)) {\r\n            const action = this.component._createAction(actionName.bind(this), config);\r\n            return function(e) {\r\n                action({\r\n                    event: e\r\n                })\r\n            }\r\n        }\r\n        this._actions[actionName] = this.component._createActionByOption(actionName, config);\r\n        this._actionConfigs[actionName] = config;\r\n        return\r\n    }\r\n    executeAction(actionName, options) {\r\n        const action = this._actions[actionName];\r\n        return action && action(options)\r\n    }\r\n    dispose() {\r\n        const that = this;\r\n        each(that.callbackNames() || [], (function() {\r\n            that[this].empty()\r\n        }))\r\n    }\r\n    addWidgetPrefix(className) {\r\n        const componentName = this.component.NAME;\r\n        return `dx-${componentName.slice(2).toLowerCase()}${className?`-${className}`:\"\"}`\r\n    }\r\n    getWidgetContainerClass() {\r\n        const containerName = \"dxDataGrid\" === this.component.NAME ? null : \"container\";\r\n        return this.addWidgetPrefix(containerName)\r\n    }\r\n    elementIsInsideGrid($element) {\r\n        const $gridElement = $element.closest(`.${this.getWidgetContainerClass()}`).parent();\r\n        return $gridElement.is(this.component.$element())\r\n    }\r\n}\r\nexport class Controller extends ModuleItem {}\r\nexport class ViewController extends Controller {\r\n    getView(name) {\r\n        return this.component._views[name]\r\n    }\r\n    getViews() {\r\n        return this.component._views\r\n    }\r\n}\r\nexport class View extends ModuleItem {\r\n    constructor(component) {\r\n        super(component);\r\n        this.renderCompleted = Callbacks();\r\n        this.resizeCompleted = Callbacks()\r\n    }\r\n    _isReady() {\r\n        return this.component.isReady()\r\n    }\r\n    _endUpdateCore() {\r\n        super._endUpdateCore();\r\n        if (!this._isReady() && this._requireReady) {\r\n            this._requireRender = false;\r\n            this.component._requireResize = false\r\n        }\r\n        if (this._requireRender) {\r\n            this._requireRender = false;\r\n            this.render(this._$parent)\r\n        }\r\n    }\r\n    _invalidate(requireResize, requireReady) {\r\n        this._requireRender = true;\r\n        this.component._requireResize = hasWindow() && (this.component._requireResize || requireResize);\r\n        this._requireReady = this._requireReady || requireReady\r\n    }\r\n    _renderCore(options) {}\r\n    _resizeCore() {}\r\n    _parentElement() {\r\n        return this._$parent\r\n    }\r\n    element() {\r\n        return this._$element\r\n    }\r\n    getElementHeight() {\r\n        const $element = this.element();\r\n        if (!$element) {\r\n            return 0\r\n        }\r\n        const marginTop = parseFloat($element.css(\"marginTop\")) || 0;\r\n        const marginBottom = parseFloat($element.css(\"marginBottom\")) || 0;\r\n        const {\r\n            offsetHeight: offsetHeight\r\n        } = $element.get(0);\r\n        return offsetHeight + marginTop + marginBottom\r\n    }\r\n    isVisible() {\r\n        return true\r\n    }\r\n    getTemplate(name) {\r\n        return this.component._getTemplate(name)\r\n    }\r\n    getView(name) {\r\n        return this.component._views[name]\r\n    }\r\n    _getBorderedViews() {\r\n        return {\r\n            columnHeadersView: this.component._views.columnHeadersView,\r\n            rowsView: this.component._views.rowsView,\r\n            filterPanelView: this.component._views.filterPanelView,\r\n            footerView: this.component._views.footerView\r\n        }\r\n    }\r\n    render($parent, options) {\r\n        let $element = this._$element;\r\n        const isVisible = this.isVisible();\r\n        if (!$element && !$parent) {\r\n            return\r\n        }\r\n        this._requireReady = false;\r\n        if (!$element) {\r\n            $element = this._$element = $(\"<div>\").appendTo($parent);\r\n            this._$parent = $parent\r\n        }\r\n        $element.toggleClass(\"dx-hidden\", !isVisible);\r\n        if (this.component._views) {\r\n            updateViewsBorders(this.name, this._getBorderedViews())\r\n        }\r\n        if (isVisible) {\r\n            this.component._optionCache = {};\r\n            const deferred = this._renderCore(options);\r\n            this.component._optionCache = void 0;\r\n            if (deferred) {\r\n                deferred.done((() => {\r\n                    this.renderCompleted.fire(options)\r\n                }))\r\n            } else {\r\n                this.renderCompleted.fire(options)\r\n            }\r\n        }\r\n    }\r\n    resize() {\r\n        this.isResizing = true;\r\n        this._resizeCore();\r\n        this.resizeCompleted.fire();\r\n        this.isResizing = false\r\n    }\r\n    focus(preventScroll) {\r\n        this.element().get(0).focus({\r\n            preventScroll: preventScroll\r\n        })\r\n    }\r\n}\r\nconst MODULES_ORDER_MAX_INDEX = 1e6;\r\n\r\nfunction getExtendedTypes(types) {\r\n    let moduleExtenders = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\r\n    const extendTypes = {};\r\n    Object.entries(moduleExtenders).forEach((_ref => {\r\n        let [name, extender] = _ref;\r\n        const currentType = types[name];\r\n        if (currentType) {\r\n            if (isFunction(extender)) {\r\n                extendTypes[name] = extender(currentType)\r\n            } else {\r\n                const classType = currentType;\r\n                extendTypes[name] = classType.inherit(extender)\r\n            }\r\n        }\r\n    }));\r\n    return extendTypes\r\n}\r\n\r\nfunction registerPublicMethods(componentInstance, name, moduleItem) {\r\n    const publicMethods = moduleItem.publicMethods();\r\n    if (publicMethods) {\r\n        each(publicMethods, ((_, methodName) => {\r\n            if (moduleItem[methodName]) {\r\n                if (!componentInstance[methodName]) {\r\n                    componentInstance[methodName] = function() {\r\n                        return moduleItem[methodName](...arguments)\r\n                    }\r\n                } else {\r\n                    throw errors.Error(\"E1005\", methodName)\r\n                }\r\n            } else {\r\n                throw errors.Error(\"E1006\", name, methodName)\r\n            }\r\n        }))\r\n    }\r\n}\r\nexport function processModules(componentInstance, componentClass) {\r\n    const {\r\n        modules: modules\r\n    } = componentClass;\r\n    const {\r\n        modulesOrder: modulesOrder\r\n    } = componentClass;\r\n\r\n    function createModuleItems(moduleTypes) {\r\n        const moduleItems = {};\r\n        each(moduleTypes, ((name, moduleType) => {\r\n            const moduleItem = new moduleType(componentInstance);\r\n            moduleItem.name = name;\r\n            registerPublicMethods(componentInstance, name, moduleItem);\r\n            moduleItems[name] = moduleItem\r\n        }));\r\n        return moduleItems\r\n    }\r\n    if (modulesOrder) {\r\n        modules.sort(((module1, module2) => {\r\n            let orderIndex1 = modulesOrder.indexOf(module1.name);\r\n            let orderIndex2 = modulesOrder.indexOf(module2.name);\r\n            if (orderIndex1 < 0) {\r\n                orderIndex1 = 1e6\r\n            }\r\n            if (orderIndex2 < 0) {\r\n                orderIndex2 = 1e6\r\n            }\r\n            return orderIndex1 - orderIndex2\r\n        }))\r\n    }\r\n    const rootControllerTypes = {};\r\n    const rootViewTypes = {};\r\n    modules.forEach((_ref2 => {\r\n        let {\r\n            name: moduleName,\r\n            controllers: controllers = {},\r\n            views: views = {}\r\n        } = _ref2;\r\n        Object.entries(controllers).forEach((_ref3 => {\r\n            let [name, type] = _ref3;\r\n            if (rootControllerTypes[name]) {\r\n                throw errors.Error(\"E1001\", moduleName, name)\r\n            } else if (!((null === type || void 0 === type ? void 0 : type.prototype) instanceof Controller)) {\r\n                throw errors.Error(\"E1002\", moduleName, name)\r\n            }\r\n            rootControllerTypes[name] = type\r\n        }));\r\n        Object.entries(views).forEach((_ref4 => {\r\n            let [name, type] = _ref4;\r\n            if (rootViewTypes[name]) {\r\n                throw errors.Error(\"E1003\", moduleName, name)\r\n            } else if (!((null === type || void 0 === type ? void 0 : type.prototype) instanceof View)) {\r\n                throw errors.Error(\"E1004\", moduleName, name)\r\n            }\r\n            rootViewTypes[name] = type\r\n        }))\r\n    }));\r\n    const moduleExtenders = modules.filter((_ref5 => {\r\n        let {\r\n            extenders: extenders\r\n        } = _ref5;\r\n        return !!extenders\r\n    }));\r\n    const controllerTypes = moduleExtenders.reduce(((types, _ref6) => {\r\n        let {\r\n            extenders: extenders\r\n        } = _ref6;\r\n        return _extends({}, types, getExtendedTypes(types, null === extenders || void 0 === extenders ? void 0 : extenders.controllers))\r\n    }), rootControllerTypes);\r\n    const viewTypes = moduleExtenders.reduce(((types, _ref7) => {\r\n        let {\r\n            extenders: extenders\r\n        } = _ref7;\r\n        return _extends({}, types, getExtendedTypes(types, null === extenders || void 0 === extenders ? void 0 : extenders.views))\r\n    }), rootViewTypes);\r\n    componentInstance._controllers = createModuleItems(controllerTypes);\r\n    componentInstance._views = createModuleItems(viewTypes)\r\n}\r\nconst callModuleItemsMethod = function(that, methodName, args) {\r\n    args = args || [];\r\n    if (that._controllers) {\r\n        each(that._controllers, (function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        }))\r\n    }\r\n    if (that._views) {\r\n        each(that._views, (function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        }))\r\n    }\r\n};\r\nexport default {\r\n    modules: [],\r\n    View: View,\r\n    ViewController: ViewController,\r\n    Controller: Controller,\r\n    registerModule(name, module) {\r\n        const {\r\n            modules: modules\r\n        } = this;\r\n        for (let i = 0; i < modules.length; i++) {\r\n            if (modules[i].name === name) {\r\n                return\r\n            }\r\n        }\r\n        module.name = name;\r\n        modules.push(module)\r\n    },\r\n    registerModulesOrder(moduleNames) {\r\n        this.modulesOrder = moduleNames\r\n    },\r\n    unregisterModule(name) {\r\n        this.modules = grep(this.modules, (module => module.name !== name))\r\n    },\r\n    processModules: processModules,\r\n    callModuleItemsMethod: callModuleItemsMethod\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}