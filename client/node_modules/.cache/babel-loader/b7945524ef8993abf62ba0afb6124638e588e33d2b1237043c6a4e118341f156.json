{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/grids/grid_core/keyboard_navigation/scrollable_a11y.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../../../core/renderer\";\nimport { isDefined, isEmptyObject } from \"../../../../core/utils/type\";\nexport const keyboardNavigationScrollableA11yExtender = Base => class extends Base {\n  rowsViewFocusHandler(event) {\n    const $target = $(event.target);\n    this.translateFocusIfNeed(event, $target);\n    super.rowsViewFocusHandler(event);\n  }\n  rowsViewFocusOutHandler() {\n    super.rowsViewFocusOutHandler();\n    this.makeScrollableFocusableIfNeed();\n  }\n  translateFocusIfNeed(event, $target) {\n    const needTranslateFocus = this.isScrollableNeedFocusable();\n    const isFirstCellFixed = this._isFixedColumn(0);\n    if (!needTranslateFocus || !isFirstCellFixed) {\n      return;\n    }\n    const $firstCell = this._rowsView.getCell({\n      rowIndex: 0,\n      columnIndex: 0\n    });\n    const firstCellHasTabIndex = !!$firstCell.attr(\"tabindex\");\n    const notFixedCellIsTarget = $target.is(this._$firstNotFixedCell);\n    if (firstCellHasTabIndex && notFixedCellIsTarget) {\n      event.preventDefault();\n      this._focus($firstCell);\n    }\n  }\n  rowsViewRenderCompleted(e) {\n    this._$firstNotFixedCell = this.getFirstNotFixedCell();\n    this.makeScrollableFocusableIfNeed();\n    super.rowsViewRenderCompleted(e);\n  }\n  _focus($cell, disableFocus, skipFocusEvent) {\n    super._focus($cell, disableFocus, skipFocusEvent);\n    this.makeScrollableFocusableIfNeed();\n  }\n  _tabKeyHandler(eventArgs, isEditing) {\n    const isCellPositionDefined = isDefined(this._focusedCellPosition) && !isEmptyObject(this._focusedCellPosition);\n    const isOriginalHandlerRequired = !isCellPositionDefined || !eventArgs.shift && this._isLastValidCell(this._focusedCellPosition) || eventArgs.shift && this._isFirstValidCell(this._focusedCellPosition);\n    const isNeedFocusable = this.isScrollableNeedFocusable();\n    if (isOriginalHandlerRequired && isNeedFocusable) {\n      var _this$_$firstNotFixed;\n      null === (_this$_$firstNotFixed = this._$firstNotFixedCell) || void 0 === _this$_$firstNotFixed || _this$_$firstNotFixed.removeAttr(\"tabIndex\");\n    }\n    super._tabKeyHandler(eventArgs, isEditing);\n  }\n  getFirstNotFixedCell() {\n    var _this$_editingControl;\n    const columns = this._columnsController.getVisibleColumns();\n    const columnIndex = columns.findIndex(_ref => {\n      let {\n        fixed: fixed\n      } = _ref;\n      return !fixed;\n    });\n    const isEditing = null === (_this$_editingControl = this._editingController) || void 0 === _this$_editingControl ? void 0 : _this$_editingControl.isEditing();\n    return -1 === columnIndex || isEditing ? void 0 : this._rowsView._getCellElement(0, columnIndex);\n  }\n  isScrollableNeedFocusable() {\n    var _this$_rowsView$_fixe, _this$_rowsView$getCe;\n    const hasScrollable = !!this._rowsView.getScrollable();\n    const hasFixedTable = !!(null !== (_this$_rowsView$_fixe = this._rowsView._fixedTableElement) && void 0 !== _this$_rowsView$_fixe && _this$_rowsView$_fixe.length);\n    const isCellsRendered = !!(null !== (_this$_rowsView$getCe = this._rowsView.getCellElements(0)) && void 0 !== _this$_rowsView$getCe && _this$_rowsView$getCe.length);\n    return hasScrollable && hasFixedTable && isCellsRendered;\n  }\n  makeScrollableFocusableIfNeed() {\n    const needFocusable = this.isScrollableNeedFocusable();\n    if (!needFocusable || !this._$firstNotFixedCell) {\n      return;\n    }\n    this._applyTabIndexToElement(this._$firstNotFixedCell);\n  }\n};","map":{"version":3,"names":["$","isDefined","isEmptyObject","keyboardNavigationScrollableA11yExtender","Base","rowsViewFocusHandler","event","$target","target","translateFocusIfNeed","rowsViewFocusOutHandler","makeScrollableFocusableIfNeed","needTranslateFocus","isScrollableNeedFocusable","isFirstCellFixed","_isFixedColumn","$firstCell","_rowsView","getCell","rowIndex","columnIndex","firstCellHasTabIndex","attr","notFixedCellIsTarget","is","_$firstNotFixedCell","preventDefault","_focus","rowsViewRenderCompleted","e","getFirstNotFixedCell","$cell","disableFocus","skipFocusEvent","_tabKeyHandler","eventArgs","isEditing","isCellPositionDefined","_focusedCellPosition","isOriginalHandlerRequired","shift","_isLastValidCell","_isFirstValidCell","isNeedFocusable","_this$_$firstNotFixed","removeAttr","_this$_editingControl","columns","_columnsController","getVisibleColumns","findIndex","_ref","fixed","_editingController","_getCellElement","_this$_rowsView$_fixe","_this$_rowsView$getCe","hasScrollable","getScrollable","hasFixedTable","_fixedTableElement","length","isCellsRendered","getCellElements","needFocusable","_applyTabIndexToElement"],"sources":["C:/Users/Sofia/Desktop/Репозиторий ЦК/internship_project/client/node_modules/devextreme/esm/__internal/grids/grid_core/keyboard_navigation/scrollable_a11y.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/grids/grid_core/keyboard_navigation/scrollable_a11y.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../../core/renderer\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject\r\n} from \"../../../../core/utils/type\";\r\nexport const keyboardNavigationScrollableA11yExtender = Base => class extends Base {\r\n    rowsViewFocusHandler(event) {\r\n        const $target = $(event.target);\r\n        this.translateFocusIfNeed(event, $target);\r\n        super.rowsViewFocusHandler(event)\r\n    }\r\n    rowsViewFocusOutHandler() {\r\n        super.rowsViewFocusOutHandler();\r\n        this.makeScrollableFocusableIfNeed()\r\n    }\r\n    translateFocusIfNeed(event, $target) {\r\n        const needTranslateFocus = this.isScrollableNeedFocusable();\r\n        const isFirstCellFixed = this._isFixedColumn(0);\r\n        if (!needTranslateFocus || !isFirstCellFixed) {\r\n            return\r\n        }\r\n        const $firstCell = this._rowsView.getCell({\r\n            rowIndex: 0,\r\n            columnIndex: 0\r\n        });\r\n        const firstCellHasTabIndex = !!$firstCell.attr(\"tabindex\");\r\n        const notFixedCellIsTarget = $target.is(this._$firstNotFixedCell);\r\n        if (firstCellHasTabIndex && notFixedCellIsTarget) {\r\n            event.preventDefault();\r\n            this._focus($firstCell)\r\n        }\r\n    }\r\n    rowsViewRenderCompleted(e) {\r\n        this._$firstNotFixedCell = this.getFirstNotFixedCell();\r\n        this.makeScrollableFocusableIfNeed();\r\n        super.rowsViewRenderCompleted(e)\r\n    }\r\n    _focus($cell, disableFocus, skipFocusEvent) {\r\n        super._focus($cell, disableFocus, skipFocusEvent);\r\n        this.makeScrollableFocusableIfNeed()\r\n    }\r\n    _tabKeyHandler(eventArgs, isEditing) {\r\n        const isCellPositionDefined = isDefined(this._focusedCellPosition) && !isEmptyObject(this._focusedCellPosition);\r\n        const isOriginalHandlerRequired = !isCellPositionDefined || !eventArgs.shift && this._isLastValidCell(this._focusedCellPosition) || eventArgs.shift && this._isFirstValidCell(this._focusedCellPosition);\r\n        const isNeedFocusable = this.isScrollableNeedFocusable();\r\n        if (isOriginalHandlerRequired && isNeedFocusable) {\r\n            var _this$_$firstNotFixed;\r\n            null === (_this$_$firstNotFixed = this._$firstNotFixedCell) || void 0 === _this$_$firstNotFixed || _this$_$firstNotFixed.removeAttr(\"tabIndex\")\r\n        }\r\n        super._tabKeyHandler(eventArgs, isEditing)\r\n    }\r\n    getFirstNotFixedCell() {\r\n        var _this$_editingControl;\r\n        const columns = this._columnsController.getVisibleColumns();\r\n        const columnIndex = columns.findIndex((_ref => {\r\n            let {\r\n                fixed: fixed\r\n            } = _ref;\r\n            return !fixed\r\n        }));\r\n        const isEditing = null === (_this$_editingControl = this._editingController) || void 0 === _this$_editingControl ? void 0 : _this$_editingControl.isEditing();\r\n        return -1 === columnIndex || isEditing ? void 0 : this._rowsView._getCellElement(0, columnIndex)\r\n    }\r\n    isScrollableNeedFocusable() {\r\n        var _this$_rowsView$_fixe, _this$_rowsView$getCe;\r\n        const hasScrollable = !!this._rowsView.getScrollable();\r\n        const hasFixedTable = !!(null !== (_this$_rowsView$_fixe = this._rowsView._fixedTableElement) && void 0 !== _this$_rowsView$_fixe && _this$_rowsView$_fixe.length);\r\n        const isCellsRendered = !!(null !== (_this$_rowsView$getCe = this._rowsView.getCellElements(0)) && void 0 !== _this$_rowsView$getCe && _this$_rowsView$getCe.length);\r\n        return hasScrollable && hasFixedTable && isCellsRendered\r\n    }\r\n    makeScrollableFocusableIfNeed() {\r\n        const needFocusable = this.isScrollableNeedFocusable();\r\n        if (!needFocusable || !this._$firstNotFixedCell) {\r\n            return\r\n        }\r\n        this._applyTabIndexToElement(this._$firstNotFixedCell)\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}